<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot: StartRxTask Helper Functions</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robot
   </div>
   <div id="projectbrief">The embedded systems for UTRA&#39;s autonomous humanoid soccer-playing robot</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('dc/dfc/group___rx_helper_functions.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">StartRxTask Helper Functions<div class="ingroups"><a class="el" href="../../d1/d36/group___free_r_t_o_s.html">FreeRTOS</a> &raquo; <a class="el" href="../../d0/d55/group___threads.html">Threads</a> &raquo; <a class="el" href="../../d8/dba/group___helpers.html">Helpers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper functions for <a class="el" href="../../d0/d55/group___threads.html#gaf50979eaf2ad1b106c5514b33138a434" title="This function is executed in the context of the RxTask thread. It initiates DMA-based receptions of R...">StartRxTask()</a>  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for StartRxTask Helper Functions:</div>
<div class="dyncontent">
<center><table><tr><td><img src="../../dc/dfc/group___rx_helper_functions.png" border="0" alt="" usemap="#dc_2dfc_2group______rx__helper__functions"/>
<map name="dc_2dfc_2group______rx__helper__functions" id="dc_2dfc_2group______rx__helper__functions">
<area shape="rect" id="node1" href="../../d8/dba/group___helpers.html" title="Helper functions to help the read&#45;ability of freertos.cpp. " alt="" coords="5,13,72,39"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaae915928a830d64fa903aab735d4c118"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfc/group___rx_helper_functions.html#gaae915928a830d64fa903aab735d4c118">initializeVars</a> (void)</td></tr>
<tr class="memdesc:gaae915928a830d64fa903aab735d4c118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the private variables for StartRxTask.  <a href="#gaae915928a830d64fa903aab735d4c118">More...</a><br /></td></tr>
<tr class="separator:gaae915928a830d64fa903aab735d4c118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0611f86d86207db4a636c550b679d72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfc/group___rx_helper_functions.html#gae0611f86d86207db4a636c550b679d72">initiateDMATransfer</a> (void)</td></tr>
<tr class="memdesc:gae0611f86d86207db4a636c550b679d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates DMA receive transfer using DMA.  <a href="#gae0611f86d86207db4a636c550b679d72">More...</a><br /></td></tr>
<tr class="separator:gae0611f86d86207db4a636c550b679d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2437cd799077914145a4ab6368cc8c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfc/group___rx_helper_functions.html#gad2437cd799077914145a4ab6368cc8c2">waitForNotificationRX</a> (void)</td></tr>
<tr class="memdesc:gad2437cd799077914145a4ab6368cc8c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waits until notified from ISR.  <a href="#gad2437cd799077914145a4ab6368cc8c2">More...</a><br /></td></tr>
<tr class="separator:gad2437cd799077914145a4ab6368cc8c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0bcd9f748ff7f02490d48ae1e69cc815"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfc/group___rx_helper_functions.html#ga0bcd9f748ff7f02490d48ae1e69cc815">updateStatusToPC</a> (void)</td></tr>
<tr class="memdesc:ga0bcd9f748ff7f02490d48ae1e69cc815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes calls to the UART module responsible for PC communication atomic.  <a href="#ga0bcd9f748ff7f02490d48ae1e69cc815">More...</a><br /></td></tr>
<tr class="separator:ga0bcd9f748ff7f02490d48ae1e69cc815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d4fbc5309f568368b065634d3d1201a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dfc/group___rx_helper_functions.html#ga2d4fbc5309f568368b065634d3d1201a">receiveDataBuffer</a> (void)</td></tr>
<tr class="memdesc:ga2d4fbc5309f568368b065634d3d1201a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the received data buffer.  <a href="#ga2d4fbc5309f568368b065634d3d1201a">More...</a><br /></td></tr>
<tr class="separator:ga2d4fbc5309f568368b065634d3d1201a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Helper functions for <a class="el" href="../../d0/d55/group___threads.html#gaf50979eaf2ad1b106c5514b33138a434" title="This function is executed in the context of the RxTask thread. It initiates DMA-based receptions of R...">StartRxTask()</a> </p>
<h1>StartRXTask Helper Functions</h1>
<p>This subsection includes helper functions for the StartRXTask() function in <a class="el" href="../../d6/da2/freertos_8cpp_source.html">freertos.cpp</a> in order to make the the file more readable. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaae915928a830d64fa903aab735d4c118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae915928a830d64fa903aab735d4c118">&#9670;&nbsp;</a></span>initializeVars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initializeVars </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the private variables for StartRxTask. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html#l00065">65</a> of file <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html">rx_helper.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfc/group___rx_helper_functions_gaae915928a830d64fa903aab735d4c118_icgraph.png" border="0" usemap="#dc/dfc/group___rx_helper_functions_gaae915928a830d64fa903aab735d4c118_icgraph" alt=""/></div>
<map name="dc/dfc/group___rx_helper_functions_gaae915928a830d64fa903aab735d4c118_icgraph" id="dc/dfc/group___rx_helper_functions_gaae915928a830d64fa903aab735d4c118_icgraph">
<area shape="rect" id="node2" href="../../d0/d55/group___threads.html#gaf50979eaf2ad1b106c5514b33138a434" title="This function is executed in the context of the RxTask thread. It initiates DMA&#45;based receptions of R..." alt="" coords="149,5,244,32"/>
</map>
</div>

</div>
</div>
<a id="gae0611f86d86207db4a636c550b679d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0611f86d86207db4a636c550b679d72">&#9670;&nbsp;</a></span>initiateDMATransfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initiateDMATransfer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiates DMA receive transfer using DMA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html#l00082">82</a> of file <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html">rx_helper.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfc/group___rx_helper_functions_gae0611f86d86207db4a636c550b679d72_icgraph.png" border="0" usemap="#dc/dfc/group___rx_helper_functions_gae0611f86d86207db4a636c550b679d72_icgraph" alt=""/></div>
<map name="dc/dfc/group___rx_helper_functions_gae0611f86d86207db4a636c550b679d72_icgraph" id="dc/dfc/group___rx_helper_functions_gae0611f86d86207db4a636c550b679d72_icgraph">
<area shape="rect" id="node2" href="../../d0/d55/group___threads.html#gaf50979eaf2ad1b106c5514b33138a434" title="This function is executed in the context of the RxTask thread. It initiates DMA&#45;based receptions of R..." alt="" coords="188,5,283,32"/>
</map>
</div>

</div>
</div>
<a id="ga2d4fbc5309f568368b065634d3d1201a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d4fbc5309f568368b065634d3d1201a">&#9670;&nbsp;</a></span>receiveDataBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void receiveDataBuffer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the received data buffer. </p>
<p>Once verified that the header sequence is valid and the correct number of bytes are read, the function copies robotGoalData to robotGoal and updates robotGoal id to robotState id. Then, the function wakes up control task and MPU task by notifying. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html#l00129">129</a> of file <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html">rx_helper.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfc/group___rx_helper_functions_ga2d4fbc5309f568368b065634d3d1201a_icgraph.png" border="0" usemap="#dc/dfc/group___rx_helper_functions_ga2d4fbc5309f568368b065634d3d1201a_icgraph" alt=""/></div>
<map name="dc/dfc/group___rx_helper_functions_ga2d4fbc5309f568368b065634d3d1201a_icgraph" id="dc/dfc/group___rx_helper_functions_ga2d4fbc5309f568368b065634d3d1201a_icgraph">
<area shape="rect" id="node2" href="../../d0/d55/group___threads.html#gaf50979eaf2ad1b106c5514b33138a434" title="This function is executed in the context of the RxTask thread. It initiates DMA&#45;based receptions of R..." alt="" coords="176,5,271,32"/>
</map>
</div>

</div>
</div>
<a id="ga0bcd9f748ff7f02490d48ae1e69cc815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0bcd9f748ff7f02490d48ae1e69cc815">&#9670;&nbsp;</a></span>updateStatusToPC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updateStatusToPC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes calls to the UART module responsible for PC communication atomic. </p>
<p>This attempts to solve the following scenario: the TX thread is in the middle of executing the call to HAL_UART_Transmit when suddenly the RX thread is unblocked. The RX thread calls HAL_UART_Receive, and returns immediately when it detects that the UART module is already locked. Then the RX thread blocks itself and never wakes up since a RX transfer was never initialized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html#l00112">112</a> of file <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html">rx_helper.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfc/group___rx_helper_functions_ga0bcd9f748ff7f02490d48ae1e69cc815_icgraph.png" border="0" usemap="#dc/dfc/group___rx_helper_functions_ga0bcd9f748ff7f02490d48ae1e69cc815_icgraph" alt=""/></div>
<map name="dc/dfc/group___rx_helper_functions_ga0bcd9f748ff7f02490d48ae1e69cc815_icgraph" id="dc/dfc/group___rx_helper_functions_ga0bcd9f748ff7f02490d48ae1e69cc815_icgraph">
<area shape="rect" id="node2" href="../../d0/d55/group___threads.html#gaf50979eaf2ad1b106c5514b33138a434" title="This function is executed in the context of the RxTask thread. It initiates DMA&#45;based receptions of R..." alt="" coords="184,5,279,32"/>
</map>
</div>

</div>
</div>
<a id="gad2437cd799077914145a4ab6368cc8c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2437cd799077914145a4ab6368cc8c2">&#9670;&nbsp;</a></span>waitForNotificationRX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void waitForNotificationRX </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waits until notified from ISR. </p>
<p>This function clears no bits on entry in case the notification comes before this statement is executed (which is rather unlikely as long as this task has the highest priority), but overall this is a better decision in case priorities are changed in the future. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html#l00095">95</a> of file <a class="el" href="../../dd/d0b/rx__helper_8cpp_source.html">rx_helper.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dfc/group___rx_helper_functions_gad2437cd799077914145a4ab6368cc8c2_icgraph.png" border="0" usemap="#dc/dfc/group___rx_helper_functions_gad2437cd799077914145a4ab6368cc8c2_icgraph" alt=""/></div>
<map name="dc/dfc/group___rx_helper_functions_gad2437cd799077914145a4ab6368cc8c2_icgraph" id="dc/dfc/group___rx_helper_functions_gad2437cd799077914145a4ab6368cc8c2_icgraph">
<area shape="rect" id="node2" href="../../d0/d55/group___threads.html#gaf50979eaf2ad1b106c5514b33138a434" title="This function is executed in the context of the RxTask thread. It initiates DMA&#45;based receptions of R..." alt="" coords="197,5,292,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
