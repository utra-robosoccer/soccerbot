<robot name="bez2" xmlns:xacro="http://www.ros.org/wiki/xacro">
    <xacro:macro name="head" params="origin">
        <link name="$(arg tf_prefix)/neck">
            <inertial>
                <origin xyz="-0.005416578381325948 0.014255007146555454 1.3884111705209784e-07" rpy="0 0 0"/>
                <mass value="0.015549664333897642"/>
                <inertia ixx="3e-06" iyy="6e-06" izz="8e-06" ixy="1e-06" iyz="-0.0" ixz="0.0"/>
          </inertial>
            <visual>
                <origin xyz="0.216834 -0.013799 -0.005989" rpy="0 0 0"/>
                <geometry>
                  <mesh filename="package://bez2_urdf_description/meshes/neck.${MODEL_TYPE}" scale="0.001 0.001 0.001"/>
                </geometry>
                <material name="plastic_matte_yellow"/>
          </visual>
          <collision>
            <origin xyz="0.216834 -0.013799 -0.005989" rpy="0 0 0"/>
            <geometry>
              <mesh filename="package://bez2_urdf_description/meshes/neck.${MODEL_TYPE}" scale="0.001 0.001 0.001"/>
            </geometry>
          </collision>
        </link>
        <link name="$(arg tf_prefix)/head">
            <inertial>
            <origin xyz="0.018592918200100034 0.012723544328102049 -0.0067684921493538636" rpy="0 0 0"/>
            <mass value="0.5407373847724953"/>
            <inertia ixx="0.000378" iyy="0.000259" izz="0.000349" ixy="-4e-06" iyz="-8.1e-05" ixz="-0.0"/>
          </inertial>
            <visual>
            <origin xyz="0.236334 -0.038799 -0.005989" rpy="0 0 0"/>
            <geometry>
              <mesh filename="package://bez2_urdf_description/meshes/head.${MODEL_TYPE}" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="plastic_matte_yellow"/>
          </visual>
          <collision>
            <origin xyz="0.236334 -0.038799 -0.005989" rpy="0 0 0"/>
            <geometry>
              <mesh filename="package://bez2_urdf_description/meshes/head.${MODEL_TYPE}" scale="0.001 0.001 0.001"/>
            </geometry>
          </collision>
        </link>

        <joint name="head_motor_0" type="revolute">
            <parent link="${origin}"/>
            <child link="$(arg tf_prefix)/neck"/>
            <origin xyz="-0.216834 0.013799 0.005989" rpy="0 0 0"/>
            <axis xyz="-0.0 -1.0 -0.0"/>
            <dynamics damping="${XL430_DAMPING}" friction="${XL430_FRICTION}" />
            <limit effort="${XL430_TORQUE}" lower="-${PI/2}" upper="${PI/2}" velocity="${XL430_VELOCITY}"/>
        </joint>
        <joint name="head_motor_1" type="revolute">
            <parent link="$(arg tf_prefix)/neck"/>
            <child link="$(arg tf_prefix)/head"/>
            <origin xyz="-0.0195 0.025 0.0" rpy="0 0 0"/>
            <axis xyz="1.0 -0.0 0.0"/>
            <dynamics damping="${XL430_DAMPING}" friction="${XL430_FRICTION}" />
            <limit effort="${XL430_TORQUE}" lower="-${PI*3/4}" upper="${PI*3/4}" velocity="${XL430_VELOCITY}"/>
        </joint>

        <transmission name="head_motor_0">
            <type>transmission_interface/SimpleTransmission</type>
            <joint name="head_motor_0">
                <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            </joint>
            <actuator name="head_motor_0">
                <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
                <mechanicalReduction>1</mechanicalReduction>
            </actuator>
        </transmission>
        <transmission name="head_motor_1">
            <type>transmission_interface/SimpleTransmission</type>
            <joint name="head_motor_1">
                <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
            </joint>
            <actuator name="head_motor_1">
                <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
                <mechanicalReduction>1</mechanicalReduction>
            </actuator>
        </transmission>

        <gazebo reference="$(arg tf_prefix)/neck">
            <kp>${JOINT_KP}</kp>
            <kd>${JOINT_KD}</kd>
            <mu1>${JOINT_MU1}</mu1>
            <mu2>${JOINT_MU2}</mu2>
        </gazebo>
        <gazebo reference="$(arg tf_prefix)/head">
            <kp>${JOINT_KP}</kp>
            <kd>${JOINT_KD}</kd>
            <mu1>${JOINT_MU1}</mu1>
            <mu2>${JOINT_MU2}</mu2>
        </gazebo>
    </xacro:macro>
</robot>
